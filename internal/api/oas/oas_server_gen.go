// Code generated by ogen, DO NOT EDIT.

package oas

import (
	"context"
)

// Handler handles operations described by OpenAPI v3 specification.
type Handler interface {
	// AcknowledgeAlert implements acknowledgeAlert operation.
	//
	// Marks an alert as acknowledged.
	//
	// POST /alerts/{id}/acknowledge
	AcknowledgeAlert(ctx context.Context, params AcknowledgeAlertParams) (AcknowledgeAlertRes, error)
	// CancelExecution implements cancelExecution operation.
	//
	// Cancels a running execution.
	//
	// POST /executions/{id}/cancel
	CancelExecution(ctx context.Context, params CancelExecutionParams) (CancelExecutionRes, error)
	// CreateAlert implements createAlert operation.
	//
	// Creates a new alert.
	//
	// POST /alerts
	CreateAlert(ctx context.Context, req *CreateAlertRequest) (CreateAlertRes, error)
	// CreateWorkflow implements createWorkflow operation.
	//
	// Creates a new workflow definition.
	//
	// POST /workflows
	CreateWorkflow(ctx context.Context, req *CreateWorkflowRequest) (CreateWorkflowRes, error)
	// DeleteWorkflow implements deleteWorkflow operation.
	//
	// Deletes a workflow by ID.
	//
	// DELETE /workflows/{id}
	DeleteWorkflow(ctx context.Context, params DeleteWorkflowParams) (DeleteWorkflowRes, error)
	// ExecuteWorkflow implements executeWorkflow operation.
	//
	// Triggers a new execution of the workflow.
	//
	// POST /workflows/{id}/execute
	ExecuteWorkflow(ctx context.Context, req OptExecuteWorkflowRequest, params ExecuteWorkflowParams) (ExecuteWorkflowRes, error)
	// GetAlert implements getAlert operation.
	//
	// Returns a single alert by ID.
	//
	// GET /alerts/{id}
	GetAlert(ctx context.Context, params GetAlertParams) (GetAlertRes, error)
	// GetExecution implements getExecution operation.
	//
	// Returns a single execution by ID.
	//
	// GET /executions/{id}
	GetExecution(ctx context.Context, params GetExecutionParams) (GetExecutionRes, error)
	// GetWorkflow implements getWorkflow operation.
	//
	// Returns a single workflow by ID.
	//
	// GET /workflows/{id}
	GetWorkflow(ctx context.Context, params GetWorkflowParams) (GetWorkflowRes, error)
	// HealthCheck implements healthCheck operation.
	//
	// Returns the overall health status of the service.
	//
	// GET /health
	HealthCheck(ctx context.Context) (HealthCheckRes, error)
	// ListAlerts implements listAlerts operation.
	//
	// Returns a paginated list of alerts for the current tenant.
	//
	// GET /alerts
	ListAlerts(ctx context.Context, params ListAlertsParams) (ListAlertsRes, error)
	// ListAuditLogs implements listAuditLogs operation.
	//
	// Returns a paginated list of audit logs for the current tenant.
	//
	// GET /audit-logs
	ListAuditLogs(ctx context.Context, params ListAuditLogsParams) (ListAuditLogsRes, error)
	// ListAuditLogsByResource implements listAuditLogsByResource operation.
	//
	// Returns a paginated list of audit logs for a specific resource.
	//
	// GET /audit-logs/resource/{resourceType}/{resourceId}
	ListAuditLogsByResource(ctx context.Context, params ListAuditLogsByResourceParams) (ListAuditLogsByResourceRes, error)
	// ListAuditLogsByUser implements listAuditLogsByUser operation.
	//
	// Returns a paginated list of audit logs for a specific user.
	//
	// GET /audit-logs/user/{userId}
	ListAuditLogsByUser(ctx context.Context, params ListAuditLogsByUserParams) (ListAuditLogsByUserRes, error)
	// ListExecutions implements listExecutions operation.
	//
	// Returns a paginated list of all executions for the current tenant.
	//
	// GET /executions
	ListExecutions(ctx context.Context, params ListExecutionsParams) (ListExecutionsRes, error)
	// ListWorkflowExecutions implements listWorkflowExecutions operation.
	//
	// Returns a paginated list of executions for a specific workflow.
	//
	// GET /workflows/{id}/executions
	ListWorkflowExecutions(ctx context.Context, params ListWorkflowExecutionsParams) (ListWorkflowExecutionsRes, error)
	// ListWorkflows implements listWorkflows operation.
	//
	// Returns a paginated list of workflows for the current tenant.
	//
	// GET /workflows
	ListWorkflows(ctx context.Context, params ListWorkflowsParams) (ListWorkflowsRes, error)
	// LivenessProbe implements livenessProbe operation.
	//
	// Kubernetes liveness probe endpoint.
	//
	// GET /health/live
	LivenessProbe(ctx context.Context) (LivenessProbeRes, error)
	// ReadinessProbe implements readinessProbe operation.
	//
	// Kubernetes readiness probe endpoint.
	//
	// GET /health/ready
	ReadinessProbe(ctx context.Context) (ReadinessProbeRes, error)
	// ResolveAlert implements resolveAlert operation.
	//
	// Marks an alert as resolved.
	//
	// POST /alerts/{id}/resolve
	ResolveAlert(ctx context.Context, params ResolveAlertParams) (ResolveAlertRes, error)
	// UpdateWorkflow implements updateWorkflow operation.
	//
	// Updates an existing workflow. Version is auto-incremented.
	//
	// PUT /workflows/{id}
	UpdateWorkflow(ctx context.Context, req *UpdateWorkflowRequest, params UpdateWorkflowParams) (UpdateWorkflowRes, error)
}

// Server implements http server based on OpenAPI v3 specification and
// calls Handler to handle requests.
type Server struct {
	h   Handler
	sec SecurityHandler
	baseServer
}

// NewServer creates new Server.
func NewServer(h Handler, sec SecurityHandler, opts ...ServerOption) (*Server, error) {
	s, err := newServerConfig(opts...).baseServer()
	if err != nil {
		return nil, err
	}
	return &Server{
		h:          h,
		sec:        sec,
		baseServer: s,
	}, nil
}
